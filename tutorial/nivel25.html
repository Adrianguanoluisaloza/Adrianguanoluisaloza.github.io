<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>üèÜ Nivel 25 - Proyecto Final Maestro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Nunito', sans-serif;
            background: #0f0f23;
            color: #e2e8f0;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: 'üèÜ';
            position: absolute;
            font-size: 200px;
            opacity: 0.1;
            top: -50px;
            right: -50px;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .header h1 {
            font-family: 'Fredoka One', cursive;
            font-size: 2.5rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            animation: pulse 2s ease infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .nivel-badge {
            background: rgba(255,255,255,0.3);
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1.1rem;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .nav-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 0;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .nav-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: scale(1.05);
        }
        
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .seccion {
            background: #1a1a2e;
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            border: 3px solid #374151;
        }
        
        .seccion h2 {
            font-family: 'Fredoka One', cursive;
            color: #ef4444;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .logros-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .logro-card {
            background: linear-gradient(135deg, rgba(220,38,38,0.2), rgba(153,27,27,0.2));
            border: 2px solid #dc2626;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .logro-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(220,38,38,0.4);
            border-color: #ef4444;
        }
        
        .logro-card .icono {
            font-size: 3.5rem;
            margin-bottom: 15px;
            filter: grayscale(100%);
            transition: all 0.3s;
        }
        
        .logro-card.desbloqueado .icono {
            filter: grayscale(0%);
            animation: bounce 0.5s ease;
        }
        
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .logro-card .titulo {
            font-weight: bold;
            color: #ef4444;
            margin-bottom: 8px;
        }
        
        .logro-card .desc {
            font-size: 0.9rem;
            color: #94a3b8;
        }
        
        .certificado-section {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            border: 3px solid #dc2626;
        }
        
        .certificado-input {
            width: 100%;
            max-width: 400px;
            padding: 15px 25px;
            font-size: 1.2rem;
            border: 3px solid #dc2626;
            border-radius: 15px;
            background: rgba(255,255,255,0.05);
            color: white;
            text-align: center;
            margin: 20px auto;
            display: block;
        }
        
        .certificado-input::placeholder { color: #94a3b8; }
        
        .btn-grande {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
        }
        
        .btn-grande:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(220,38,38,0.5);
        }
        
        .certificado-maestro {
            max-width: 750px;
            margin: 30px auto;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 10px solid #dc2626;
            border-radius: 25px;
            padding: 50px;
            position: relative;
            color: #1e293b;
            display: none;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        
        .certificado-maestro.visible { display: block; }
        
        .certificado-maestro h2 {
            font-family: 'Fredoka One', cursive;
            font-size: 2.5rem;
            color: #dc2626;
            margin-bottom: 20px;
        }
        
        .nombre-maestro {
            font-size: 2.8rem;
            color: #1e40af;
            font-family: 'Georgia', serif;
            margin: 25px 0;
            padding: 15px;
            border-bottom: 4px solid #1e40af;
            display: inline-block;
        }
        
        .mensaje-cert {
            font-size: 1.1rem;
            color: #374151;
            line-height: 1.9;
            margin: 25px 0;
        }
        
        .sello-maestro {
            position: absolute;
            bottom: 30px;
            right: 30px;
            font-size: 6rem;
            transform: rotate(-15deg);
        }
        
        .stats-finales {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-final {
            background: linear-gradient(135deg, rgba(220,38,38,0.2), rgba(153,27,27,0.2));
            border: 2px solid #dc2626;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }
        
        .stat-final .valor {
            font-size: 3rem;
            font-weight: bold;
            color: #ef4444;
        }
        
        .stat-final .etiqueta {
            color: #94a3b8;
            margin-top: 10px;
        }
        
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            top: -10px;
            animation: caer 4s linear forwards;
            z-index: 1000;
            pointer-events: none;
            border-radius: 3px;
        }
        
        @keyframes caer {
            to {
                top: 100vh;
                transform: rotate(1080deg);
            }
        }
        
        .nav-final {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .nav-final a {
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            text-decoration: none;
            padding: 18px 35px;
            border-radius: 30px;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .nav-final a:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 25px rgba(220,38,38,0.5);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-header">
            <a href="inicio.html" class="nav-btn">üè† Men√∫</a>
            <span class="nivel-badge">‚≠ê NIVEL 25 - FINAL</span>
            <a href="nivel24.html" class="nav-btn">‚¨ÖÔ∏è Anterior</a>
        </div>
        <h1>üèÜ PROYECTO FINAL MAESTRO üèÜ</h1>
        <p style="font-size: 1.2rem; margin-top: 15px;">¬°Has llegado al nivel m√°ximo! Hora de demostrar todo lo aprendido</p>
        <div style="margin-top: 15px; padding: 12px 25px; background: rgba(255,255,255,0.2); border-radius: 15px; display: inline-block;">
            <strong>üí° Tip:</strong> Si no ves cambios recientes, presiona <strong>Ctrl + F5</strong>
        </div>
    </header>
    
    <main class="container">
        <!-- Proyecto Final Integrador -->
        <section class="seccion">
            <h2>üöÄ Proyecto Final - Portafolio Maestro Interactivo</h2>
            <p style="font-size: 1.1rem; margin-bottom: 20px;">
                Este proyecto integra <strong>TODAS</strong> las habilidades de los 25 niveles:
                HTML sem√°ntico, CSS avanzado, JavaScript, APIs, Canvas, Audio y m√°s.
            </p>
            
            <div class="stats-finales">
                <div class="stat-final">
                    <div class="valor" id="nivelesCompletados">25</div>
                    <div class="etiqueta">Niveles Integrados</div>
                </div>
                <div class="stat-final">
                    <div class="valor" id="tecnicasUsadas">50+</div>
                    <div class="etiqueta">T√©cnicas Aplicadas</div>
                </div>
                <div class="stat-final">
                    <div class="valor">100%</div>
                    <div class="etiqueta">Progreso Total</div>
                </div>
            </div>
        </section>
        
        <!-- Aplicaci√≥n Final Integrada -->
        <section class="seccion">
            <h2>üíª Tu Aplicaci√≥n Web Maestra</h2>
            <p style="margin-bottom: 20px;">Completa el formulario para generar tu portafolio personalizado con todas las tecnolog√≠as:</p>
            
            <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin: 20px 0;">
                <h3 style="color: #ef4444; margin-bottom: 15px;">üìù Datos Personales (HTML + Formularios)</h3>
                <form id="formularioMaestro" style="display: grid; gap: 15px;">
                    <input type="text" id="nombreCompleto" placeholder="Tu nombre completo" required 
                           style="padding: 12px; border-radius: 10px; border: 2px solid #dc2626; background: rgba(255,255,255,0.05); color: white; font-size: 1rem;">
                    
                    <input type="email" id="emailMaestro" placeholder="tu@email.com" required
                           style="padding: 12px; border-radius: 10px; border: 2px solid #dc2626; background: rgba(255,255,255,0.05); color: white; font-size: 1rem;">
                    
                    <select id="temaColor" style="padding: 12px; border-radius: 10px; border: 2px solid #dc2626; background: rgba(255,255,255,0.05); color: white; font-size: 1rem;">
                        <option value="red">üî¥ Rojo Moderno</option>
                        <option value="blue">üîµ Azul Profesional</option>
                        <option value="green">üü¢ Verde Tech</option>
                        <option value="purple">üü£ P√∫rpura Creativo</option>
                    </select>
                    
                    <textarea id="sobreMi" placeholder="Cu√©ntanos sobre ti..." rows="3"
                              style="padding: 12px; border-radius: 10px; border: 2px solid #dc2626; background: rgba(255,255,255,0.05); color: white; font-size: 1rem; resize: vertical;"></textarea>
                    
                    <button type="submit" class="btn-grande" style="width: 100%;">
                        üöÄ Generar Mi Portafolio Maestro
                    </button>
                </form>
            </div>
            
            <!-- Resultado del Portafolio -->
            <div id="portafolioGenerado" style="display: none; margin-top: 30px;">
                <h3 style="color: #ef4444; margin-bottom: 20px;">‚ú® Tu Portafolio Generado</h3>
                
                <!-- Header con CSS Variables (Nivel 22) -->
                <div id="portafolioHeader" style="background: linear-gradient(135deg, var(--color-principal), var(--color-secundario)); padding: 30px; border-radius: 15px; text-align: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 10px; right: 10px; font-size: 3rem; opacity: 0.2;">üë®‚Äçüíª</div>
                    <h1 id="nombrePortafolio" style="font-size: 2.5rem; margin-bottom: 10px;">Cargando...</h1>
                    <p id="emailPortafolio" style="font-size: 1.1rem; opacity: 0.9;">email@ejemplo.com</p>
                </div>
                
                <!-- Sobre M√≠ con LocalStorage (Nivel 16) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">üë§ Sobre M√≠</h3>
                    <p id="textoSobreMi" style="line-height: 1.8;">Cargando informaci√≥n...</p>
                </div>
                
                <!-- Canvas Interactivo (Nivel 24) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">üé® Arte Generativo (Canvas)</h3>
                    <canvas id="canvasMaestro" width="600" height="200" style="width: 100%; max-width: 600px; border-radius: 10px; background: #0f0f23; display: block; margin: 0 auto;"></canvas>
                    <div style="text-align: center; margin-top: 15px;">
                        <button onclick="animarCanvas()" class="btn-grande" style="padding: 12px 30px; font-size: 1rem;">
                            ‚ú® Animar Canvas
                        </button>
                    </div>
                </div>
                
                <!-- API Demo (Nivel 19) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">üåê Integraci√≥n con API</h3>
                    <button onclick="cargarDatosAPI()" class="btn-grande" style="padding: 12px 30px; font-size: 1rem;">
                        üì° Cargar Consejo Aleatorio
                    </button>
                    <div id="resultadoAPI" style="margin-top: 15px; padding: 20px; background: rgba(0,0,0,0.3); border-radius: 10px; display: none;">
                        <p id="textoAPI" style="font-size: 1.1rem; line-height: 1.8;"></p>
                    </div>
                </div>
                
                <!-- Datos JSON (Nivel 20) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">üíæ Mis Proyectos (JSON + LocalStorage)</h3>
                    <div id="listaProyectos" style="display: grid; gap: 15px;"></div>
                    <button onclick="agregarProyecto()" class="btn-grande" style="padding: 12px 30px; font-size: 1rem; margin-top: 15px;">
                        ‚ûï Agregar Proyecto
                    </button>
                </div>
                
                <!-- Animaciones CSS (Nivel 17) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px; text-align: center;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">üåà Animaciones CSS</h3>
                    <div id="boxAnimado" style="width: 100px; height: 100px; background: linear-gradient(135deg, #f59e0b, #dc2626); margin: 20px auto; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 2rem; cursor: pointer;" onclick="animarBox()">
                        ‚ú®
                    </div>
                    <p style="font-size: 0.9rem; color: #94a3b8;">Haz clic en la caja para animarla</p>
                </div>
                
                <!-- Audio (Nivel 23) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; margin-bottom: 20px; text-align: center;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">üîä Efectos de Sonido</h3>
                    <button onclick="reproducirTono(440)" class="btn-grande" style="padding: 12px 30px; font-size: 1rem; margin: 5px;">
                        üéµ Tono 1
                    </button>
                    <button onclick="reproducirTono(523)" class="btn-grande" style="padding: 12px 30px; font-size: 1rem; margin: 5px;">
                        üéµ Tono 2
                    </button>
                    <button onclick="reproducirTono(659)" class="btn-grande" style="padding: 12px 30px; font-size: 1rem; margin: 5px;">
                        üéµ Tono 3
                    </button>
                </div>
                
                <!-- Contador JS (Nivel 11) -->
                <div style="background: rgba(220,38,38,0.1); padding: 25px; border-radius: 15px; text-align: center;">
                    <h3 style="color: #ef4444; margin-bottom: 15px;">‚ö° Contador Interactivo (JavaScript)</h3>
                    <div style="font-size: 3rem; font-weight: bold; color: #ef4444; margin: 20px 0;" id="contadorMaestro">0</div>
                    <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                        <button onclick="modificarContador(1)" class="btn-grande" style="padding: 12px 25px; font-size: 1rem;">‚ûï</button>
                        <button onclick="modificarContador(-1)" class="btn-grande" style="padding: 12px 25px; font-size: 1rem;">‚ûñ</button>
                        <button onclick="resetearContador()" class="btn-grande" style="padding: 12px 25px; font-size: 1rem;">üîÑ</button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Estad√≠sticas Finales -->
        <section class="seccion">
            <h2>üìä Estad√≠sticas del Proyecto</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
                <div style="background: rgba(220,38,38,0.1); padding: 20px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.5rem;">üìÑ</div>
                    <div style="font-size: 2rem; font-weight: bold; color: #ef4444;">25</div>
                    <div style="color: #94a3b8;">Niveles HTML</div>
                </div>
                <div style="background: rgba(220,38,38,0.1); padding: 20px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.5rem;">üé®</div>
                    <div style="font-size: 2rem; font-weight: bold; color: #ef4444;">15</div>
                    <div style="color: #94a3b8;">T√©cnicas CSS</div>
                </div>
                <div style="background: rgba(220,38,38,0.1); padding: 20px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.5rem;">‚ö°</div>
                    <div style="font-size: 2rem; font-weight: bold; color: #ef4444;">20</div>
                    <div style="color: #94a3b8;">Funciones JS</div>
                </div>
                <div style="background: rgba(220,38,38,0.1); padding: 20px; border-radius: 15px; text-align: center;">
                    <div style="font-size: 2.5rem;">üåê</div>
                    <div style="font-size: 2rem; font-weight: bold; color: #ef4444;">5</div>
                    <div style="color: #94a3b8;">APIs Integradas</div>
                </div>
            </div>
        </section>
        
        <!-- Certificado Maestro -->
        <section class="certificado-section">
            <h2 style="font-size: 2.5rem; color: #ef4444; margin-bottom: 20px;">
                üéì CERTIFICADO DE MAESTR√çA üéì
            </h2>
            <p style="color: #e2e8f0; font-size: 1.2rem; margin-bottom: 30px;">
                Has completado los <strong>25 niveles</strong> del curso m√°s completo de desarrollo web.<br>
                ¬°Es hora de recibir tu certificado oficial de MAESTRO WEB!
            </p>
            
            <input type="text" class="certificado-input" id="nombreMaestro" placeholder="Escribe tu nombre completo">
            <br>
            <button class="btn-grande" onclick="generarCertificadoMaestro()">üèÜ Generar Certificado de Maestro</button>
            
            <div class="certificado-maestro" id="certificadoMaestro">
                <h2>üèÜ CERTIFICADO DE MAESTR√çA üèÜ</h2>
                <p style="color: #6b7280; font-size: 1.1rem;">Este certificado acredita que:</p>
                <div class="nombre-maestro" id="nombreEnCertificado"></div>
                <p class="mensaje-cert">
                    Ha completado exitosamente los <strong>25 NIVELES</strong> del programa de 
                    <strong>Desarrollo Web Full-Stack</strong> de la 
                    <strong>Unidad Educativa Luz de Esmeraldas</strong>, 
                    demostrando dominio excepcional en:<br><br>
                    ‚úÖ HTML5 y estructura sem√°ntica<br>
                    ‚úÖ CSS3 y dise√±o responsive<br>
                    ‚úÖ JavaScript y programaci√≥n avanzada<br>
                    ‚úÖ APIs, Canvas y tecnolog√≠as modernas<br><br>
                    Con este logro, el estudiante est√° preparado para crear 
                    aplicaciones web profesionales y continuar su carrera en el desarrollo web.
                </p>
                <p style="color: #6b7280; font-size: 1rem; margin-top: 30px;" id="fechaCertificado"></p>
                <div class="sello-maestro">ü•á</div>
            </div>
            
            <button class="btn-grande" onclick="descargarCertificado()" style="margin-top: 20px; display: none;" id="btnDescargar">
                üì• Descargar Certificado
            </button>
        </section>
        
        <!-- Mensaje Final -->
        <section class="seccion">
            <h2>üåü ¬°Felicidades, Maestro Web!</h2>
            
            <p style="font-size: 1.2rem; line-height: 2; text-align: center; margin: 25px 0;">
                Has completado un viaje incre√≠ble de aprendizaje. Desde los conceptos m√°s b√°sicos 
                de HTML hasta la creaci√≥n de juegos y aplicaciones complejas con JavaScript.<br><br>
                
                <strong style="color: #ef4444; font-size: 1.4rem;">Ahora eres capaz de:</strong><br>
                ‚ú® Crear sitios web completos desde cero<br>
                üé® Dise√±ar interfaces hermosas y responsivas<br>
                ‚ö° Programar aplicaciones interactivas<br>
                üéÆ Desarrollar juegos en el navegador<br>
                üåê Consumir APIs y trabajar con datos<br><br>
                
                <strong style="color: #10b981; font-size: 1.3rem;">¬øQu√© sigue ahora?</strong><br>
                üöÄ Practica creando tus propios proyectos<br>
                üìö Aprende frameworks como React, Vue o Angular<br>
                üîß Explora Node.js para backend<br>
                üíº Construye tu portafolio profesional<br>
                ü§ù Comparte tus conocimientos con otros<br><br>
                
                <em style="color: #fbbf24; font-size: 1.3rem;">
                    "El aprendizaje nunca termina. Este es solo el comienzo de tu carrera como desarrollador web."
                </em>
            </p>
        </section>
        
        <!-- Navegaci√≥n Final -->
        <nav class="nav-final">
            <a href="nivel24.html">‚¨ÖÔ∏è Nivel 24</a>
            <a href="inicio.html">üè† Volver al Inicio</a>
            <a href="final.html">üèÜ Centro de Logros y Certificado</a>
        </nav>
        
        <!-- Mensaje de integraci√≥n -->
        <section class="seccion" style="text-align: center; background: linear-gradient(135deg, rgba(220,38,38,0.2), rgba(153,27,27,0.2)); border: 3px solid #dc2626;">
            <h2>üéØ ¬øQu√© sigue ahora?</h2>
            <p style="font-size: 1.2rem; line-height: 1.8; margin: 20px 0;">
                Has completado el <strong>Proyecto Integrador</strong> que conecta los 25 niveles.<br>
                Ahora es momento de obtener tu certificado oficial.
            </p>
            <a href="final.html" class="btn-grande" style="display: inline-block; text-decoration: none; margin: 10px;">
                üéì Ir al Centro de Logros y Certificado
            </a>
            <p style="margin-top: 20px; color: #94a3b8; font-size: 0.95rem;">
                En el Centro de Logros podr√°s:<br>
                ‚úÖ Ver todos tus logros desbloqueados<br>
                ‚úÖ Generar tu certificado personalizado<br>
                ‚úÖ Descargar tu diploma oficial
            </p>
        </section>
    </main>
    
    <script>
        // Variables globales
        let contador = 0;
        let audioContext = null;
        let proyectos = [];
        
        // Colores de temas CSS Variables (Nivel 22)
        const temas = {
            red: { principal: '#dc2626', secundario: '#991b1b' },
            blue: { principal: '#2563eb', secundario: '#1e40af' },
            green: { principal: '#059669', secundario: '#047857' },
            purple: { principal: '#7c3aed', secundario: '#6d28d9' }
        };
        
        // NIVEL 6 + 21: Validaci√≥n de Formularios
        document.getElementById('formularioMaestro').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nombre = document.getElementById('nombreCompleto').value.trim();
            const email = document.getElementById('emailMaestro').value.trim();
            const tema = document.getElementById('temaColor').value;
            const sobreMi = document.getElementById('sobreMi').value.trim();
            
            if (!nombre || !email || !sobreMi) {
                alert('Por favor completa todos los campos');
                return;
            }
            
            // NIVEL 16 + 20: LocalStorage + JSON
            const datosPortafolio = {
                nombre: nombre,
                email: email,
                tema: tema,
                sobreMi: sobreMi,
                fecha: new Date().toISOString()
            };
            
            localStorage.setItem('datosPortafolio', JSON.stringify(datosPortafolio));
            
            // Generar portafolio
            generarPortafolio(datosPortafolio);
            
            // Marcar nivel completado
            const niveles = JSON.parse(localStorage.getItem('nivelesCompletados') || '[]');
            if (!niveles.includes(25)) {
                niveles.push(25);
                localStorage.setItem('nivelesCompletados', JSON.stringify(niveles));
            }
        });
        
        // Generar Portafolio con todos los niveles
        function generarPortafolio(datos) {
            // NIVEL 22: CSS Variables
            const colorTema = temas[datos.tema];
            document.documentElement.style.setProperty('--color-principal', colorTema.principal);
            document.documentElement.style.setProperty('--color-secundario', colorTema.secundario);
            
            // NIVEL 12: Manipulaci√≥n del DOM
            document.getElementById('nombrePortafolio').textContent = datos.nombre;
            document.getElementById('emailPortafolio').textContent = datos.email;
            document.getElementById('textoSobreMi').textContent = datos.sobreMi;
            
            // Mostrar portafolio
            document.getElementById('portafolioGenerado').style.display = 'block';
            document.getElementById('portafolioGenerado').scrollIntoView({ behavior: 'smooth' });
            
            // NIVEL 24: Iniciar Canvas
            iniciarCanvas();
            
            // NIVEL 20: Cargar proyectos desde localStorage
            cargarProyectosGuardados();
            
            // NIVEL 23: Confetti de celebraci√≥n
            lanzarConfettiMasivo();
        }
        
        // NIVEL 24: Canvas Interactivo
        function iniciarCanvas() {
            const canvas = document.getElementById('canvasMaestro');
            const ctx = canvas.getContext('2d');
            
            // Dibujar patr√≥n inicial
            ctx.fillStyle = '#dc2626';
            ctx.fillRect(50, 50, 100, 100);
            
            ctx.fillStyle = '#f59e0b';
            ctx.beginPath();
            ctx.arc(400, 100, 50, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.strokeStyle = '#10b981';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(200, 150);
            ctx.lineTo(350, 150);
            ctx.stroke();
        }
        
        function animarCanvas() {
            const canvas = document.getElementById('canvasMaestro');
            const ctx = canvas.getContext('2d');
            let x = 0;
            
            const animar = () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // Estrellas animadas
                for (let i = 0; i < 5; i++) {
                    const offset = i * 120;
                    ctx.fillStyle = '#fbbf24';
                    ctx.beginPath();
                    ctx.arc((x + offset) % 600, 100, 15, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                x += 2;
                if (x < 600) requestAnimationFrame(animar);
            };
            animar();
        }
        
        // NIVEL 19: Fetch API
        async function cargarDatosAPI() {
            const resultado = document.getElementById('resultadoAPI');
            const texto = document.getElementById('textoAPI');
            
            resultado.style.display = 'block';
            texto.textContent = '‚è≥ Cargando consejo...';
            
            try {
                const respuesta = await fetch('https://api.adviceslip.com/advice');
                const datos = await respuesta.json();
                texto.textContent = `üí° "${datos.slip.advice}"`;
            } catch (error) {
                texto.textContent = '‚ùå Error al cargar. Consejo local: "¬°Sigue practicando, ser√°s un gran desarrollador!"';
            }
        }
        
        // NIVEL 20: JSON + LocalStorage - Proyectos
        function cargarProyectosGuardados() {
            const guardados = localStorage.getItem('proyectosMaestro');
            if (guardados) {
                proyectos = JSON.parse(guardados);
            } else {
                proyectos = [
                    { nombre: 'P√°gina Personal HTML', tecnologia: 'HTML5' },
                    { nombre: 'Portafolio con CSS', tecnologia: 'CSS3' },
                    { nombre: 'App Interactiva JS', tecnologia: 'JavaScript' }
                ];
            }
            mostrarProyectos();
        }
        
        function mostrarProyectos() {
            const lista = document.getElementById('listaProyectos');
            lista.innerHTML = proyectos.map((p, i) => `
                <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong style="color: #ef4444;">${p.nombre}</strong>
                        <div style="font-size: 0.9rem; color: #94a3b8;">${p.tecnologia}</div>
                    </div>
                    <button onclick="eliminarProyecto(${i})" style="background: rgba(220,38,38,0.3); border: none; color: white; padding: 8px 15px; border-radius: 8px; cursor: pointer;">üóëÔ∏è</button>
                </div>
            `).join('');
        }
        
        function agregarProyecto() {
            const nombre = prompt('Nombre del proyecto:');
            const tecnologia = prompt('Tecnolog√≠a usada:');
            
            if (nombre && tecnologia) {
                proyectos.push({ nombre, tecnologia });
                localStorage.setItem('proyectosMaestro', JSON.stringify(proyectos));
                mostrarProyectos();
            }
        }
        
        function eliminarProyecto(index) {
            proyectos.splice(index, 1);
            localStorage.setItem('proyectosMaestro', JSON.stringify(proyectos));
            mostrarProyectos();
        }
        
        // NIVEL 17: Animaciones CSS
        function animarBox() {
            const box = document.getElementById('boxAnimado');
            box.style.animation = 'none';
            setTimeout(() => {
                box.style.animation = 'bounce 0.5s ease, spin 1s ease';
            }, 10);
        }
        
        // NIVEL 23: Web Audio API
        function reproducirTono(frecuencia) {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            
            const oscilador = audioContext.createOscillator();
            const ganancia = audioContext.createGain();
            
            oscilador.connect(ganancia);
            ganancia.connect(audioContext.destination);
            
            oscilador.frequency.value = frecuencia;
            ganancia.gain.setValueAtTime(0.3, audioContext.currentTime);
            ganancia.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
            
            oscilador.start(audioContext.currentTime);
            oscilador.stop(audioContext.currentTime + 0.5);
        }
        
        // NIVEL 11: JavaScript B√°sico - Contador
        function modificarContador(valor) {
            contador += valor;
            document.getElementById('contadorMaestro').textContent = contador;
        }
        
        function resetearContador() {
            contador = 0;
            document.getElementById('contadorMaestro').textContent = contador;
        }
        
        // NIVEL 17: A√±adir animaciones al CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
        `;
        document.head.appendChild(style);
        
        // Certificado
        function generarCertificadoMaestro() {
            const nombre = document.getElementById('nombreMaestro').value.trim();
            if (!nombre) {
                alert('Por favor escribe tu nombre completo');
                return;
            }
            
            document.getElementById('nombreEnCertificado').textContent = nombre;
            
            const fecha = new Date();
            const meses = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
            document.getElementById('fechaCertificado').textContent = 
                'Otorgado el ' + fecha.getDate() + ' de ' + meses[fecha.getMonth()] + ' de ' + fecha.getFullYear();
            
            document.getElementById('certificadoMaestro').classList.add('visible');
            document.getElementById('btnDescargar').style.display = 'inline-block';
            
            localStorage.setItem('nivel25_completado', 'true');
            localStorage.setItem('nombre_maestro', nombre);
            
            lanzarConfettiMasivo();
        }
        
        function descargarCertificado() {
            alert('üéì ¬°Certificado generado! En una app real, aqu√≠ se descargar√≠a un PDF.');
        }
        
        function lanzarConfettiMasivo() {
            const colores = ['#ef4444', '#f59e0b', '#10b981', '#3b82f6', '#8b5cf6', '#ec4899'];
            
            for (let i = 0; i < 100; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.background = colores[Math.floor(Math.random() * colores.length)];
                    confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 15);
            }
        }
        
        // Cargar datos al iniciar
        window.onload = function() {
            const niveles = JSON.parse(localStorage.getItem('nivelesCompletados') || '[]');
            document.getElementById('nivelesCompletados').textContent = niveles.length;
            
            // Cargar datos guardados
            const datosGuardados = localStorage.getItem('datosPortafolio');
            if (datosGuardados) {
                const datos = JSON.parse(datosGuardados);
                document.getElementById('nombreCompleto').value = datos.nombre;
                document.getElementById('emailMaestro').value = datos.email;
                document.getElementById('temaColor').value = datos.tema;
                document.getElementById('sobreMi').value = datos.sobreMi;
            }
            
            const nombreGuardado = localStorage.getItem('nombre_maestro');
            if (nombreGuardado) {
                document.getElementById('nombreMaestro').value = nombreGuardado;
            }
        };
    </script>
</body>
</html>
